#!/usr/bin/env node

// Environment setup script for FaithFlow app
// This script helps you set up the required environment variables

const fs = require('fs');
const path = require('path');

console.log('ğŸš€ FaithFlow Environment Setup');
console.log('================================');

// Check if .env.local already exists
const envPath = path.join(process.cwd(), '.env.local');
if (fs.existsSync(envPath)) {
  console.log('âš ï¸  .env.local already exists');
  console.log('ğŸ“‹ Current contents:');
  console.log(fs.readFileSync(envPath, 'utf8'));
  return;
}

// Create .env.local template
const envTemplate = `# Supabase Configuration
# Generated by setup-environment.js

# Your Supabase project URL
VITE_SUPABASE_URL=https://xmhopsdfmadqltufbmeq.supabase.co

# Your Supabase anon key (public key)
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhtaG9wc2RmbWFkcWx0dWZibWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkxMDEsImV4cCI6MjA3NTM0NTEwMX0.2oqmo0rXR5xHNBVE1OaiQfICH1Pp3onmG8zrw0aif2A

# Instructions:
# 1. These values are already set for your project
# 2. If you need to change them, go to Supabase Dashboard > Settings > API
# 3. Copy the Project URL and anon key from there
`;

try {
  fs.writeFileSync(envPath, envTemplate);
  console.log('âœ… Created .env.local file with your Supabase credentials');
  console.log('ğŸ” Environment variables set:');
  console.log('   - VITE_SUPABASE_URL: https://xmhopsdfmadqltufbmeq.supabase.co');
  console.log('   - VITE_SUPABASE_ANON_KEY: [configured]');
  console.log('');
  console.log('ğŸš€ You can now start the development server with: npm run dev');
} catch (error) {
  console.error('âŒ Failed to create .env.local:', error.message);
  console.log('');
  console.log('ğŸ“‹ Manual setup:');
  console.log('1. Create a file named .env.local in the project root');
  console.log('2. Add the following content:');
  console.log('');
  console.log(envTemplate);
}
